<!--xml-->
<launch>
    <node name="$(env ROS_HOSTNAME)_command_node" pkg="icarus_rover_v2" type="command_node"  output="screen" clear_params="true">
        <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="loop1_rate"            value="20.0"/> <!-- Armed State Publish -->  
        <param name="loop2_rate"            value="50.0"/> <!-- Process Update -->
        <param name="loop3_rate"            value="100.0"/> <!-- Periodic Commands (max) -->
        <param name="ready_to_arm_topic1"   value="/ControlModule1_hatcontroller_node/ready_to_arm"/>
        <param name="ready_to_arm_topic2"   value="/ControlModule1_diagnostic_node/ready_to_arm"/>
        <param name="user_command_topic" value="/DriverStation/user_command"/>
    </node>
    <node name="$(env ROS_HOSTNAME)_diagnostic_node" pkg="icarus_rover_v2" type="diagnostic_node"  output="screen" clear_params="true">
        <param name="verbosity_level"       value="INFO"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="RAM_usage_threshold_MB"    value="2000"/>
        <param name="CPU_usage_threshold_percent"    value="30"/> 
        <param name="Log_Resources_Used"        value="1"/>  
        <param name="loop1_rate"            value="1"/> <!-- Check Tasks -->
        <param name="loop2_rate"            value="10"/> <!-- Log Resources, Ready To Arm -->
        <param name="loop3_rate"            value="20"/> <!-- process update -->
    </node>
    <node name="$(env ROS_HOSTNAME)_master_node" pkg="icarus_rover_v2" type="master_node"  output="screen" clear_params="true">
	    <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/>    
        <param name="loop1_rate"            value="1"/> <!-- device,resource available, -->    
        <param name="loop2_rate"            value="10"/> <!-- process update, -->  
    </node>
     <node name="$(env ROS_HOSTNAME)_timemaster_node" pkg="icarus_rover_v2" type="timemaster_node"  output="screen" clear_params="true">
	    <param name="verbosity_level"       value="DEBUG"/> 
        <param name="pps_source"            value="self"/>
        <param name="require_pps_to_start"  value="false"/>
        <param name="loop1_rate"            value="50.0"/> <!-- publish -->
        <param name="loop2_rate"            value="100.0"/> <!-- process update -->
    </node>
    <node name="$(env ROS_HOSTNAME)_hatcontroller_node" pkg="icarus_rover_v2" type="hatcontroller_node"  output="screen" clear_params="true">
        <param name="verbosity_level"       value="INFO"/>
        <param name="require_pps_to_start"  value="false"/> 
        <param name="loop1_rate"            value="20"/> <!-- Process Update -->
        <param name="loop2_rate"            value="20"/> <!-- Publish ready to Arm -->
       <!-- <param name="loop3_rate"            value="20"/> --> <!-- Disabled -->
    </node>
    <node name="$(env ROS_HOSTNAME)_commandlauncher_node" pkg="icarus_rover_v2" type="commandlauncher_node" output="screen" clear_params="true">  
	    <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="true"/>
        <param name="loop1_rate"            value="20.0"/> <!--  -->
        <param name="loop2_rate"            value="50.0"/> <!-- Process Update,Output publish --> 
        <param name="loop3_rate"            value="200.0"/> <!--  -->
		<param name="CameraStreamPort"      value="CameraPort"/>
    </node>
    <node name="$(env ROS_HOSTNAME)_safety_node" pkg="icarus_rover_v2" type="safety_node"  output="screen" clear_params="true">
	    <param name="verbosity_level"       value="DEBUG"/>
        <param name="require_pps_to_start"  value="false"/>    
        <param name="loop1_rate"            value="20"/> <!-- process update -->    
        <param name="loop2_rate"            value="10"/> <!-- publish ready to arm,estop -->  
    </node>
</launch>
